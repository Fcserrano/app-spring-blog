<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title th:text="${titulo}"></title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>

	<header>
	  <nav class="navbar navbar-dark bg-dark">
		<div class="container-fluid">
		  <a class="navbar-brand" th:href="@{/posts}" th:text="${titulo}"></a>
		  <a th:href="@{/newpost}" class="btn btn-primary" role="button">Nuevo post</a>
		</div>
	  </nav>
	</header>
	
	<section>
	  <div class="container mb-4" style="width:60%;">
	  
	  	<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" class="mt-3">
		  <ol class="breadcrumb">
			 <li class="breadcrumb-item active" aria-current="page">Posts</li>
		  </ol>
		</nav>
	
	  
      	<div class="card shadow-sm rounded" style="margin-top:2rem;" th:each="post: ${posts}">
  		  <div class="card-body">
		    <a style="text-decoration:none" th:href="@{posts/} + ${post.id}"> <h5 class="card-title"> <span style="color:black;" th:text="${post.titulo}"></span></h5></a>
		    <h6 class="card-subtitle mb-2 text-muted" th:text="${post.autor}"></h6>
		    <p class="card-text" th:if="${!dispositivo.contains('Android') && !dispositivo.contains('iPhone')}"><span th:utext="${#strings.abbreviate(post.texto, 400)}"></span></p>
		    <p class="card-text" th:if="${dispositivo.contains('Android') || dispositivo.contains('iPhone')}"><span th:utext="${#strings.abbreviate(post.texto, 80)}"></span></p>
		    <p class="card-text"><small class="text-muted" th:text=" 'Publicado el ' + ${post.fecha} "></small></p>
		    <a th:href="@{/delete/} + ${post.id}" class="btn btn-danger" role="button">Borrar</a>
  		  </div>
  		</div>
  	  </div>
	</section>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>